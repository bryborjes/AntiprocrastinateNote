---
import Layout from "../layouts/Layout.astro";
import AddActivity from "../components/AddActivity.astro";

const handleAddActivity = (newActivity: { due_date: string; title: string; description: string; priority: string }) => {
  console.log("Activity added:", newActivity);
  // Optionally, redirect to another page or show a success message
  window.location.href = "/app"; // Redirect to the main app page
};
---

<Layout title="Añadir Nueva Actividad">
  <main class="max-w-5xl m-auto pb-20 px-4">
    <section
      id="new-activity"
      class="flex flex-col flex-wrap items-center justify-center pt-10"
    >
      <h2 class="text-6xl font-bold text-center text-white">
        Añadir Nueva Actividad
      </h2>
      <p class="max-w-xl text-xl text-sky-200 text-center [text-wrap:balance] mt-4">
        Rellene el formulario para añadir una nueva actividad.
      </p>
      <div class="w-full max-w-lg my-16">
        <AddActivity onAddActivity={handleAddActivity} />
      </div>
    </section>
  </main>
  <script type="text/javascript" src="../js/checkSession.js"></script>
</Layout>
